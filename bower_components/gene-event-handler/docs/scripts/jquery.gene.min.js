"use strict";!function(e,t,a,r){function n(e){if("radio"===e.type){var r=a(t.getElementsByName(e.name)).filter("[required]");r.length&&(e=r[0])}var n=a(e),i=c.notInput.test(e.nodeName)?e.nodeName.toLowerCase():e.getAttribute("type"),l=o.attributes.required?e.required:a(e).is("[required]"),f={valid:!0,message:""};if(o.inputtypes[i]?(f.valid=e.validity.valid,f.message=e.validationMessage):(l&&(f=u.required(e)),f.valid&&e.value.length&&!c.boxes.test(i)&&(e.pattern&&(i="pattern"),u[i]&&(f=u[i](e)))),f.valid)for(var p in d)if(d.hasOwnProperty(p)&&n.is("[data-"+p+"]")&&(f=d[p](e),!f.valid))break;return f.valid?(n.trigger("valid"),!0):(a.data(e,"validationMessage",f.message),n.trigger("invalid"),s(n,f.message),!1)}function i(e){var t=!0;return e.each(function(e,r){a(r).next(".validatr-err").remove(),(t||a.fn.validatr.options.showall)&&(n(r)||(t=!1))}),t}function s(e,t){var r=a(a.fn.validatr.options.template.replace("{{message}}",t));e.after(r),r.css("position","absolute");var n=e.offset(),i=e[0].getAttribute("data-location")||a.fn.validatr.options.location;c.topbottom.test(i)?(r.offset({left:n.left}),"top"===i&&r.offset({top:n.top-r.outerHeight()-2}),"bottom"===i&&r.offset({top:n.top+e.outerHeight()/2+r.outerHeight()})):c.leftright.test(i)&&(r.offset({top:n.top+e.outerHeight()/2-r.outerHeight()/2}),"left"===i&&r.offset({left:n.left-r.outerWidth()-2}),"right"===i&&r.offset({left:n.left+e.outerWidth()+2}))}var o=function(){var e,a={},r=t.documentElement,n=t.createElement("input"),i=t.createElement("select"),s=t.createElement("textarea"),o={},l={};return a.attributes=function(e){for(var t=0,a=e.length;t<a;t++)l[e[t]]=!!(e[t]in n);return l}("max min multiple pattern required step".split(" ")),a.inputtypes=function(e){for(var a,i,s,l=0,u=e.length;l<u;l++)n.setAttribute("type",i=e[l]),a="text"!==n.type,a&&(n.value=":)",n.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(i)&&void 0!==n.style.WebkitAppearance?(r.appendChild(n),s=t.defaultView,a=s.getComputedStyle&&"textfield"!==s.getComputedStyle(n,null).WebkitAppearance&&0!==n.offsetHeight,r.removeChild(n)):/^(search|tel)$/.test(i)||(a=/^(url|email)$/.test(i)?n.checkValidity&&!1===n.checkValidity():":)"!==n.value)),o[e[l]]=!!a;return o}("search tel url email datetime date month week time datetime-local number range color".split(" ")),function(r){for(var i=0,s=r.length;i<s;i++){e=n;try{e.setAttribute("type",r[i])}catch(a){e=t.createElement('<input type="'+r[i]+'">')}e.style.cssText="position:absolute;visibility:hidden;",a.inputtypes[r[i]]=!!e.checkValidity}}("text password radio checkbox".split(" ")),a.inputtypes.select=!!i.checkValidity,a.inputtypes.textarea=!!s.checkValidity,n=null,e=null,i=null,s=null,a}(),l=function(){function e(e,t){for(var a=-1,r=e?e.length:0;++a<r;)if(e[a]===t)return a;return-1}function t(t){var n=t.getAttribute("data-format")||a.fn.validatr.options.dateFormat,i=n.split(s.separatorsNoGroup),o=t.value.split(s.separatorsNoGroup),l="yyyy-mm-dd".split("-"),u=n.replace(s.separators,"\\$1").replace("yyyy",s.dateParts.yyyy).replace("mm",s.dateParts.mm).replace("dd",s.dateParts.dd),d=-1,c=l.length,f=[];if(u=new RegExp(u),!u.test(t.value))return!1;for(;++d<c;)f[d]=o[e(i,l[d])];return r(f.join("-"))}function r(e){if(!i.isoDate.test(e))return!1;var t=i.isoDate.exec(e);return new Date(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10))}function n(e,t){function r(e){return e<10?"0"+e:e}var n=r(e.getDate()),i=r(e.getMonth()+1),s=e.getFullYear();return(t.getAttribute("data-format")||a.fn.validatr.options.dateFormat).replace("mm",i).replace("yyyy",s).replace("dd",n)}var i={isoDate:/^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/},s={separators:/(\/|\-|\.)/g,separatorsNoGroup:/\/|\-|\./g,dateParts:{dd:"(0[1-9]|[12][0-9]|3[01])",mm:"(0[1-9]|1[012])",yyyy:"(\\d{4})"}};return{formatISODate:n,parseDate:t,parseISODate:r}}(),u=function(){var e={color:/^#[0-9A-F]{6}$/i,email:/^[a-zA-Z0-9.!#$%&’*+\/=?\^_`{|}~\-]+@[a-zA-Z0-9\-]+(?:\.[a-zA-Z0-9\-]+)*$/,isoDate:/^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,number:/^-?\d*\.?\d*$/,time:/^([01][0-9]|2[0-3])(:([0-5][0-9])){2}$/,url:/^\s*https?:\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?\s*$/},r={boxes:/checkbox|radio/i,spaces:/,\s*/},n=function(e,t,r,n,i){var s=!0,o=a.validatr.messages.range.base,u=t,d=r;return"date"===i&&(u=t&&l.formatISODate(t,this),d=r&&l.formatISODate(r,this)),!1!==e&&(!1!==n&&(s="any"===n||(e-t)%n==0,o=a.validatr.messages.range.invalid),s&&(!1!==t&&!1!==r?(s=e>=t&&e<=r,o=a.validatr.messages.range.overUnder):!1!==t?(s=e>=t,o=a.validatr.messages.range.overflow):!1!==r&&(s=e<=r,o=a.validatr.messages.range.underflow))),{valid:!1!==e&&s,message:o.replace("{{type}}",i).replace("{{min}}",u).replace("{{max}}",d)}};return{checkbox:function(e){return{valid:e.checked,message:a.validatr.messages.checkbox}},color:function(t){return{valid:e.color.test(t.value),message:a.validatr.messages.color}},date:function(e){var t=a(e),r=o.inputtypes.date?l.parseISODate(e.value):l.parseDate(e),i=!!t.attr("min")&&l.parseISODate(t.attr("min")),s=!!t.attr("max")&&l.parseISODate(t.attr("max"));return n.call(e,r,i,s,!1,"date")},email:function(t){var n=!0,i=a.validatr.messages.email.single;if(o.attributes.multiple?t.multiple:a(t).is("[multiple]")){var s=t.value.split(r.spaces);a.each(s,function(t,r){if(!e.email.test(r))return n=!1,void(i=a.validatr.messages.email.multiple)})}else n=e.email.test(t.value);return{valid:n,message:i}},number:function(t){var a=t.value.replace(",",""),r=(!!e.number.test(a)&&parseFloat(a),!!e.number.test(t.getAttribute("min"))&&parseFloat(t.getAttribute("min"))),i=!!e.number.test(t.getAttribute("max"))&&parseFloat(t.getAttribute("max")),s=e.number.test(t.getAttribute("step"))?parseFloat(t.getAttribute("step")):"any"===t.getAttribute("step")&&"any";return(!1===s||s<=0)&&(s=1),n.call(t,a,r,i,s,"number")},pattern:function(e){return{valid:new RegExp(e.getAttribute("pattern")).test(e.value),message:a.validatr.messages.pattern}},radio:function(e){return{valid:a(t.getElementsByName(e.name)).is(":checked"),message:a.validatr.messages.radio}},range:function(e){return this.number(e)},required:function(e){return r.boxes.test(e.type)?this[e.type](e):{valid:!!e.value.length,message:"select"===e.nodeName.toLowerCase()?a.validatr.messages.select:a.validatr.messages.required}},time:function(t){return{valid:e.time.test(t.value),message:a.validatr.messages.time}},url:function(t){return{valid:e.url.test(t.value),message:a.validatr.messages.url}}}}(),d=function(){function e(e){if("text"!==e.type)throw new Error("element must have a type of text");var t=e.getAttribute("data-as");if(u[t])return u[t](e)}function r(e){var r=e.getAttribute("data-match"),i=t.getElementById(r)||t.getElementsByName(r)[0];return i?(a(i).off("valid.validatrinput").on("valid.validatrinput",function(){e.value===i.value&&n(e)}),{valid:e.value===i.value,message:"'"+e.name+"' does not equal '"+i.name+"'"}):{valid:!1,message:"'"+r+"' can not be found"}}return{as:e,match:r}}(),c={boxes:/checkbox|radio/i,leftright:/left|right/i,notInput:/select|textarea/i,topbottom:/top|bottom/i},f=function(){return{addTest:function(e){var t="string"!=typeof e,r=Array.prototype.slice.call(arguments,1)[0];if(t)a.extend(d,e);else{if(!r)throw new Error("You must include a callback function");d[e]=r}},getElements:function(e){if(this.formElements)return this.formElements;var t=a(e).map(function(){return a.makeArray(this.elements)}).not("fieldset, button, input[type=submit], input[type=button], input[type=reset]");return e.id&&(t=t.add(a('[form="'+e.id+'"]'))),t},validateElement:function(e){if(!e)throw new Error("method requires an element");return n(e[0]||e)},validateForm:function(e){var t=this.el||(e instanceof jQuery?e[0]:e);if("form"!==t.nodeName.toLowerCase())throw new Error("you must pass a form to this method");return i(this.formElements||this.getElements(t))}}};a.fn.validatr=function(){return this},a.fn.validatr.options={dateFormat:"yyyy-mm-dd",location:"bottom",position:s,showall:!0,template:'<div class="validatr-err text-danger">{{message}}</div>',valid:a.noop},a.validatr=new f,a.validatr.messages={checkbox:"Please check this box if you want to proceed.",color:"Please enter a color in the format #xxxxxx",email:{single:"Please enter an email address.",multiple:"Please enter a comma separated list of email addresses."},pattern:"Please match the requested format.",radio:"Please select one of these options.",range:{base:"Please enter a {{type}}",overflow:"Please enter a {{type}} greater than or equal to {{min}}.",overUnder:"Please enter a {{type}} greater than or equal to {{min}}<br> and less than or equal to {{max}}.",invalid:"Invalid {{type}}",underflow:"Please enter a {{type}} less than or equal to {{max}}."},required:"Please fill out this field.",select:"Please select an item in the list.",time:"Please enter a time in the format hh:mm:ss",url:"Please enter a url."},a.expr[":"].validatr=function(e){return!!a.data(e,"validatr")},a.validatr.addTest("chinese",function(e){var t=new RegExp("^[一-﨩]*$"),a=(new RegExp("^[-]*$"),e.value.replace(/\s/g,"")),r=!0;return t.test(a)||(r=!1),{valid:r,message:"Please enter some chinese."}})}(window,document,jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("undefined"==typeof jQuery)alert("jQuery is needed");else if(function(e){void 0===e.fn.gene&&(e.fn.gene={debug:0,tags:[],evts:{},scriptName:"jquery.gene",subFolder:"scripts/plugins",taClass:"gee",apiUri:"/",goBack:function(e){history.go(-1)},stdSubmit:function(t){var a=e.fn.gene,r=t.data("ta")?e("#"+t.data("ta")):t.closest("form"),n=function(){t.removeAttr("disabled").find("i").remove(),"1"==this.code?("1"===t.attr("reset")&&r[0].reset(),gee.isset(this.data.msg)&&gee.alert({title:"Alert!",txt:this.data.msg}),gee.isset(this.data.uri)&&(location.href=""===this.data.uri?a.apiUri:this.data.uri),gee.isset(this.data.goback)&&history.go(-1),gee.isset(this.data.reset)&&r[0].reset(),gee.check(this.data.func)&&(gee.clog(this.data.func),gee.exe(this.data.func,t))):gee.isset(this.data)&&gee.isset(this.data.msg)?gee.alert({title:"Alert!",txt:this.data.msg}):a.alert({title:"Error!",txt:"Server Error, Plaese Try Later("+this.code+")"})};if(r.find("input").each(function(){e(this).val()==e(this).attr("placeholder")&&e(this).val("")}),!e.validatr.validateForm(r))return!1;t.attr("disabled","disabled").append('<i class="fa fa-spinner fa-pulse fa-fw"></i>'),a.yell(t.data("uri"),r.serialize(),n,n)},yell:function(t,a,r,n,i,s){var o=e.fn.gene,l=-1==t.indexOf("://")?"json":"jsonp";i=i||"POST",t=-1==t.indexOf("://")?o.apiUri+t:t,s||o.loadAnim("show"),e.ajax({url:t,type:i,data:a,dataType:l,cache:!1}).done(function(e){e?(o.clog(e),o.isset(e.errorCode)?"function"==typeof n?n.call(e):o.alert({title:"Error!",txt:"Server Error, Plaese Try Later("+e.errorCode+")"}):"function"==typeof r&&r.call(e)):o.alert({title:"Error!",txt:"Server Error, Plaese Try Later(2)"})}).fail(function(e,t){o.err("ajax fail("+e.status+")!!")}).always(function(){o.clog("ajax complete"),s||o.loadAnim("hide")})},resetForm:function(t){(t.data("ta")?e("#"+t.data("ta")):t.closest("form"))[0].reset()},getChainOption:function(t){var a=(e.fn.gene,t.data("ta")),r=t.data("uri"),n=t.val();e.get(r+"&pid="+n,function(t){e("#"+a).html(t)})},loadAnim:function(t){var a=e("body");"hide"==("show"==t||a.hasClass("loadAnim")?"show":"hide")||"hide"==t?a.removeClass("loadAnim"):a.addClass("loadAnim")},alert:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=(e.title||e.data("title"),e.txt||e.data("txt"));alert(t)}),test:function(t){e.fn.gene.clog(t)},exe:function(t,a){var r=e.fn.gene,n=r.check(t)?r[t]:r.notfound;return r.clog("exe::"+t),n.call(this,a)},pageController:function(t){var a=e.fn.gene,r="load"+t.attr("id").capitalize();a.check(r)||(a.clog("load:::"+r),a.load(r,"controller")),a.check(r)?(a.clog("start::"+t.attr("id").capitalize()),a.exe(r,t)):a.clog("load fail:::"+r)},load:function(t){var a=e.fn.gene;window.location.pathname;a.clog("script::"+gee.subFolder+"/"+t+".js"),a.check(t)||("function"==typeof importScripts?(a.clog("start importScripts::"),importScripts(gee.subFolder+"/"+t+".js")):(a.clog("start scripttag::"),e("body").append('<script src="'+gee.subFolder+"/"+t+'.js"><\/script>')))},notfound:function(t){e.fn.gene.err("command not found!!")},err:function(e){""!==e?this.clog("Error::"+e):this.clog("Error::unknown error!!")},check:function(t){var a=e.fn.gene;return a.isset(a[t])},clog:function(t){var a=e.fn.gene;return"undefined"!=typeof console&&a.debug,a},parseUrlQuery:function(e){var t=document.createElement("a");return t.href=e,function(){for(var e,a={},r=t.search.replace(/^\?/,"").split("&"),n=r.length,i=0;i<n;i++)r[i]&&(e=r[i].split("="),a[e[0]]=e[1]);return a}()},hookTag:function(t,a){var r=e.fn.gene;r.check(t)?r.clog(t+" overwrite?"):(r.tags.push(t),r.hook(t,a))},hook:function(t,a,r){var n=e.fn.gene;n.check(t)?n.clog(t+" overwrite?"):(n[t]=a,n.evts[t]="undefined"!=r?r:"click")},unhook:function(t,a){var r=e.fn.gene;r.check(t)?delete r[t]:r.clog(t+" exist?")},isset:function(e){return void 0!==e&&null!==e},bindToEvt:function(t){var a=e(this);1!=a.data("nopde")&&(t.preventDefault(),gee.clog("nopde")),a.event=t,gee.clog("start"),gee.exe(a.data("meb")[t.type],a)},init:function(){var t=e.fn.gene;for(var a in t.tags)t.exe(t.tags[a],e(t.tags[a]));e("."+t.taClass).each(function(){var a=e(this),r=a.data("event"),n=a.data("behavior"),i=a.data("gene"),s={};if(t.isset(n)||(n="notfound"),t.isset(r)||(r=t.isset(t.evts[n])?t.evts[n]:"click"),t.isset(i))for(var o=i.replace(" ","").split(","),l=0;l<o.length;l++){var u=o[l].split(":");t.isset(u[1])||(u[1]=u[0],u[0]="click"),s[u[0]]=u[1]}else s[r]=n;t.clog(s),a.data("meb",s).unbind();for(var d in s)t.check(s[d])||(t.clog("load:::"+s[d]),t.load(s[d])),t.check(s[d])||t.clog("load fail:::"+s[d]),"init"==d?t.exe(s[d],a):a.on(d,t.bindToEvt)}).removeClass(t.taClass)}},e.fn.applyGEE=function(t,a){var r=e.fn.gene;if(r.isset(t))r.exe(t,a);else{var n=this.data("behavior");r.exe(n,this)}return this})}(jQuery),"function"!=typeof importScripts)var importScripts=function(e){var t=new XMLHttpRequest;return function(){for(var a,r,n,i=Array.prototype.slice.call(arguments),s=i.length,o=0;o<s;o++)"data:"===i[o].substr(0,5).toLowerCase()?(r=i[o],n=r.indexOf(","),a=r.substr(5,n).toLowerCase(),r=decodeURIComponent(r.substr(n+1)),/;\s*base64\s*[;,]/.test(a)&&(r=atob(r)),/;\s*charset=[uU][tT][fF]-?8\s*[;,]/.test(a)&&(r=decodeURIComponent(escape(r)))):(t.open("GET",i[o],!1),t.send(null),r=t.responseText),e(r)}}(eval);